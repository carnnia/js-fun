<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>having fun with js</title>

    <style>
        #my-div {
 
            border: 10px solid brown;
            padding: 20px;
            margin: 10px;
        }

        .hide-me {

            visibility: hidden;
            display: none;
        }

        .show-me {
            visibility: visible;
            display: block;
        }
    </style>
</head>

<body>
    <h1>::: <a href="/">FUN JS</a> :::</h1>
    <p>TODO 1:
        <ul>
            <li>to bigin with use plain js</li>
            <li>hide content of a given div at page load</li>
            <li>evaluate the existance of a cookie:</li>
                <ul>
                    <li>if cookie present: do nothing</li>
                    <li>else:</li>  
                        <ol>
                            <li>make the div visable</li>
                            <li>write a cookie so not to show the content for n amount of time</li>
                        </ol>
                </ul>
            
        </ul>
    </p>

    <p>Dummy text BEFORE our div. my-div will show only if a cookie named chocolate-chip is not present.</p>

    <div id="my-div">
        <p><img src="https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=250&w=360"></p>

    </div>

    <p>Dummy text AFTER our div. Kasd amet ea labore diam dolor est, et rebum sed nonumy ipsum sed et elitr amet diam,
        takimata dolor lorem.</p>
    <hr />



    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            console.log("my documnet has loaded.");
            // first hide the div
            document.getElementById("my-div").classList.add("hide-me");
            console.log("check to see if a cookie called chocolate-chip exists");
            console.log("we make a function called getCookie");
            function getCookie(cookieName) {  
                var decodedCookie = decodeURIComponent(document.cookie); 
                // decodeCookie gives us all cookies "FOR THIS DOMAIN", separated by ; like "cookie1=foo; cookie2=bar; cookie3=buz" so we split it on ; and check to see if it contains the cookie we are looking for.
                // we search for cookieName, if found return 0 else return -1
                console.log("decodedCookie contains: " + decodedCookie);                 
                return decodedCookie.indexOf(cookieName) ;  
            }
            // now we use getCookie function
            if ( getCookie("chocolate-chip") < 0 ){
                // chocolate-chip was not set so show the div 
                document.getElementById("my-div").classList.add("show-me");
                // then set the cookie so content would not show up on page reload for one day
                setCookie("chocolate-chip", "chipppps", 1);
            }  
            function setCookie(cookieName, cookieValue, cookieGoodForDays) {
                var myDate = new Date();
                myDate.setTime(myDate.getTime() + (cookieGoodForDays * 24 * 60 * 60 * 1000));
                var expires = "expires=" + myDate.toUTCString();
                document.cookie = cookieName + "=" + cookieValue + ";" + expires + ";path=/";
            }
     

            
            



        });
    </script>
</body>

</html>